From cd0dfd288a6797bd01e82711762b6337bca6c047 Mon Sep 17 00:00:00 2001
From: alexchanov <alekseychanov@gmail.com>
Date: Mon, 15 Apr 2019 18:48:21 +0300
Subject: [PATCH] =?UTF-8?q?=D0=9E=D0=B1=D0=BD=D0=BE=D0=B2=D0=BB=D0=B5?=
 =?UTF-8?q?=D0=BD=D0=B8=D0=B5=20=D0=B4=D0=BE=20Swift=205?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 TinkofSchool/Podfile                          | 10 ++---
 TinkofSchool/Podfile.lock                     |  8 +++-
 .../TinkoffChat.xcodeproj/project.pbxproj     | 40 ++-----------------
 TinkofSchool/TinkoffChat/AppDelegate.swift    |  2 +-
 .../MultipeerCommunicator/MC extensions.swift |  2 +
 .../ConversationListVC+NSFetchResultsCD.swift |  2 +
 .../ConversationVC+FetchedResultCD.swift      |  2 +
 .../CustomStringConvertible.swift             |  2 +
 8 files changed, 22 insertions(+), 46 deletions(-)
 mode change 100755 => 100644 TinkofSchool/TinkoffChat.xcodeproj/project.pbxproj

diff --git a/TinkofSchool/Podfile b/TinkofSchool/Podfile
index f3d5bda..aa6fc85 100755
--- a/TinkofSchool/Podfile
+++ b/TinkofSchool/Podfile
@@ -1,11 +1,7 @@
-# Uncomment the next line to define a global platform for your project
-# platform :ios, '9.0'
+platform :ios, '12.0'
 
 target 'TinkoffChat' do
-  # Comment the next line if you're not using Swift and don't want to use dynamic frameworks
   use_frameworks!
-
-  # Pods for TinkoffChat
-pod 'SwiftLint'
-
+  inhibit_all_warnings!
+  pod 'SwiftLint'
 end
diff --git a/TinkofSchool/Podfile.lock b/TinkofSchool/Podfile.lock
index 454bf35..743ac2c 100755
--- a/TinkofSchool/Podfile.lock
+++ b/TinkofSchool/Podfile.lock
@@ -4,9 +4,13 @@ PODS:
 DEPENDENCIES:
   - SwiftLint
 
+SPEC REPOS:
+  https://github.com/cocoapods/specs.git:
+    - SwiftLint
+
 SPEC CHECKSUMS:
   SwiftLint: 3207c1faa2240bf8973b191820a116113cd11073
 
-PODFILE CHECKSUM: 51eee6a67d65636b301c6ba8ce3a687b97d4a00c
+PODFILE CHECKSUM: 0700bf7319dfad84425778a48efe9958d9bd33a6
 
-COCOAPODS: 1.4.0
+COCOAPODS: 1.6.1
diff --git a/TinkofSchool/TinkoffChat.xcodeproj/project.pbxproj b/TinkofSchool/TinkoffChat.xcodeproj/project.pbxproj
old mode 100755
new mode 100644
index cd13ca4..7e77e53
--- a/TinkofSchool/TinkoffChat.xcodeproj/project.pbxproj
+++ b/TinkofSchool/TinkoffChat.xcodeproj/project.pbxproj
@@ -592,8 +592,6 @@
 				39CD89A32153E29F00D7A2BA /* Sources */,
 				39CD89A42153E29F00D7A2BA /* Frameworks */,
 				39CD89A52153E29F00D7A2BA /* Resources */,
-				601BEA5935DA26F0843EBE1D /* [CP] Embed Pods Frameworks */,
-				F7358D8EC8E78BED634D5A90 /* [CP] Copy Pods Resources */,
 				39203A052198347400B681FB /* ShellScript */,
 			);
 			buildRules = (
@@ -612,12 +610,12 @@
 			isa = PBXProject;
 			attributes = {
 				LastSwiftUpdateCheck = 0940;
-				LastUpgradeCheck = 0940;
+				LastUpgradeCheck = 1020;
 				ORGANIZATIONNAME = "Чанов Алексей";
 				TargetAttributes = {
 					39CD89A62153E29F00D7A2BA = {
 						CreatedOnToolsVersion = 9.4.1;
-						LastSwiftMigration = 1000;
+						LastSwiftMigration = 1020;
 					};
 				};
 			};
@@ -690,36 +688,6 @@
 			shellPath = /bin/sh;
 			shellScript = "\"${PODS_ROOT}/SwiftLint/swiftlint\"\n";
 		};
-		601BEA5935DA26F0843EBE1D /* [CP] Embed Pods Frameworks */ = {
-			isa = PBXShellScriptBuildPhase;
-			buildActionMask = 2147483647;
-			files = (
-			);
-			inputPaths = (
-			);
-			name = "[CP] Embed Pods Frameworks";
-			outputPaths = (
-			);
-			runOnlyForDeploymentPostprocessing = 0;
-			shellPath = /bin/sh;
-			shellScript = "\"${SRCROOT}/Pods/Target Support Files/Pods-TinkoffChat/Pods-TinkoffChat-frameworks.sh\"\n";
-			showEnvVarsInLog = 0;
-		};
-		F7358D8EC8E78BED634D5A90 /* [CP] Copy Pods Resources */ = {
-			isa = PBXShellScriptBuildPhase;
-			buildActionMask = 2147483647;
-			files = (
-			);
-			inputPaths = (
-			);
-			name = "[CP] Copy Pods Resources";
-			outputPaths = (
-			);
-			runOnlyForDeploymentPostprocessing = 0;
-			shellPath = /bin/sh;
-			shellScript = "\"${SRCROOT}/Pods/Target Support Files/Pods-TinkoffChat/Pods-TinkoffChat-resources.sh\"\n";
-			showEnvVarsInLog = 0;
-		};
 /* End PBXShellScriptBuildPhase section */
 
 /* Begin PBXSourcesBuildPhase section */
@@ -950,7 +918,7 @@
 				PRODUCT_NAME = "$(TARGET_NAME)";
 				SWIFT_OBJC_BRIDGING_HEADER = "TinkoffChat/TinkoffChat-Bridging-Header.h";
 				SWIFT_OPTIMIZATION_LEVEL = "-Onone";
-				SWIFT_VERSION = 4.2;
+				SWIFT_VERSION = 5.0;
 				TARGETED_DEVICE_FAMILY = 1;
 			};
 			name = Debug;
@@ -972,7 +940,7 @@
 				PRODUCT_BUNDLE_IDENTIFIER = com.chanov.TinkoffChat;
 				PRODUCT_NAME = "$(TARGET_NAME)";
 				SWIFT_OBJC_BRIDGING_HEADER = "TinkoffChat/TinkoffChat-Bridging-Header.h";
-				SWIFT_VERSION = 4.2;
+				SWIFT_VERSION = 5.0;
 				TARGETED_DEVICE_FAMILY = 1;
 			};
 			name = Release;
diff --git a/TinkofSchool/TinkoffChat/AppDelegate.swift b/TinkofSchool/TinkoffChat/AppDelegate.swift
index e8a5599..93fdb9a 100755
--- a/TinkofSchool/TinkoffChat/AppDelegate.swift
+++ b/TinkofSchool/TinkoffChat/AppDelegate.swift
@@ -17,7 +17,7 @@ class AppDelegate: UIResponder, UIApplicationDelegate {
     func application(_ application: UIApplication,
                      didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
         if let themeData = UserDefaults.standard.value(forKey: "Theme") as? Data,
-            let theme = try? NSKeyedUnarchiver.unarchiveTopLevelObjectWithData(themeData) as? UIColor {
+            let theme = ((try? NSKeyedUnarchiver.unarchiveTopLevelObjectWithData(themeData) as? UIColor) as UIColor??) {
             UINavigationBar.appearance().barTintColor = theme
         } else {
             UINavigationBar.appearance().barTintColor = UIColor.green
diff --git a/TinkofSchool/TinkoffChat/Core layer/CoreComponents/MultipeerCommunicator/MC extensions.swift b/TinkofSchool/TinkoffChat/Core layer/CoreComponents/MultipeerCommunicator/MC extensions.swift
index f086a4f..c8bcaf3 100755
--- a/TinkofSchool/TinkoffChat/Core layer/CoreComponents/MultipeerCommunicator/MC extensions.swift	
+++ b/TinkofSchool/TinkoffChat/Core layer/CoreComponents/MultipeerCommunicator/MC extensions.swift	
@@ -30,6 +30,8 @@ extension MultipeerCommunicator: MCNearbyServiceBrowserDelegate, MCNearbyService
             print("Current state for session with \(peerID.displayName) is connecting")
         case .connected:
             print("Current state for session with \(peerID.displayName) is connected")
+        @unknown default:
+            print("Current state for session with \(peerID.displayName) is unknown, \(state)")
         }
     }
 
diff --git a/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationListViewController/Controller/extensions/ConversationListVC+NSFetchResultsCD.swift b/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationListViewController/Controller/extensions/ConversationListVC+NSFetchResultsCD.swift
index cccd6b2..eed5cbc 100755
--- a/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationListViewController/Controller/extensions/ConversationListVC+NSFetchResultsCD.swift	
+++ b/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationListViewController/Controller/extensions/ConversationListVC+NSFetchResultsCD.swift	
@@ -23,6 +23,8 @@ extension ConversationListViewController: NSFetchedResultsControllerDelegate {
         case.move:
             tableView.deleteRows(at: [indexPath!], with: .none)
             tableView.insertRows(at: [newIndexPath!], with: .none)
+        @unknown default:
+            return
         }
     }
 
diff --git a/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationViewController/Controller/extension/ConversationVC+FetchedResultCD.swift b/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationViewController/Controller/extension/ConversationVC+FetchedResultCD.swift
index 88b331c..5f12a14 100755
--- a/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationViewController/Controller/extension/ConversationVC+FetchedResultCD.swift	
+++ b/TinkofSchool/TinkoffChat/Presentation layer/Modules/ConversationViewController/Controller/extension/ConversationVC+FetchedResultCD.swift	
@@ -29,6 +29,8 @@ extension ConversationViewController: NSFetchedResultsControllerDelegate {
         case .move:
             tableView.deleteRows(at: [indexPath!], with: .none)
             tableView.insertRows(at: [newIndexPath!], with: .none)
+        @unknown default:
+            return
         }
     }
 }
diff --git a/TinkofSchool/TinkoffChat/SupportFiles/UIApplicationState extensions/CustomStringConvertible.swift b/TinkofSchool/TinkoffChat/SupportFiles/UIApplicationState extensions/CustomStringConvertible.swift
index 927542c..bef3e13 100755
--- a/TinkofSchool/TinkoffChat/SupportFiles/UIApplicationState extensions/CustomStringConvertible.swift	
+++ b/TinkofSchool/TinkoffChat/SupportFiles/UIApplicationState extensions/CustomStringConvertible.swift	
@@ -18,6 +18,8 @@ extension UIApplication.State: CustomStringConvertible {
             return("inactive")
         case .background:
             return("background")
+        @unknown default:
+            return("unknown")
         }
     }
 }
-- 
2.21.0

